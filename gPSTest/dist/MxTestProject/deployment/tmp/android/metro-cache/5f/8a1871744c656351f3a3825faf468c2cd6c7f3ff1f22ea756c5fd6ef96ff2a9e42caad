{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/assertThisInitialized","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),o=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.captureRef=L,e.releaseCapture=M,e.captureScreen=function(t){var o=R(t),n=o.options;o.errors;return C.captureScreen(n)},e.default=void 0;var n=o(r(d[2])),u=o(r(d[3])),p=o(r(d[4])),s=o(r(d[5])),l=o(r(d[6])),c=o(r(d[7])),f=o(r(d[8])),h=t(r(d[9])),y=r(d[10]);function v(t,o){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);o&&(u=u.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,u)}return n}function b(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?v(Object(n),!0).forEach(function(o){(0,f.default)(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}var C=y.NativeModules.RNViewShot,w=new Promise(function(){});C||console.warn(\"NativeModules.RNViewShot is undefined. Make sure the library is linked on the native side.\");var O=[\"png\",\"jpg\"].concat(\"android\"===y.Platform.OS?[\"webm\",\"raw\"]:[]),j=[\"tmpfile\",\"base64\",\"data-uri\"].concat(\"android\"===y.Platform.OS?[\"zip-base64\"]:[]),P={format:\"png\",quality:1,result:\"tmpfile\",snapshotContentContainer:!1};function R(t){var o=[];return\"width\"in(t=b({},P,{},t))&&(\"number\"!=typeof t.width||t.width<=0)&&(o.push(\"option width should be a positive number\"),delete t.width),\"height\"in t&&(\"number\"!=typeof t.height||t.height<=0)&&(o.push(\"option height should be a positive number\"),delete t.height),(\"number\"!=typeof t.quality||t.quality<0||t.quality>1)&&(o.push(\"option quality should be a number between 0.0 and 1.0\"),t.quality=P.quality),\"boolean\"!=typeof t.snapshotContentContainer&&o.push(\"option snapshotContentContainer should be a boolean\"),-1===O.indexOf(t.format)&&(t.format=P.format,o.push(\"option format '\"+t.format+\"' is not in valid formats: \"+O.join(\" | \"))),-1===j.indexOf(t.result)&&(t.result=P.result,o.push(\"option result '\"+t.result+\"' is not in valid formats: \"+j.join(\" | \"))),{options:t,errors:o}}function L(t,o){if(t&&\"object\"==typeof t&&\"current\"in t&&t.current&&(t=t.current),\"number\"!=typeof t){var n=(0,y.findNodeHandle)(t);if(!n)return Promise.reject(new Error(\"findNodeHandle failed to resolve view=\"+String(t)));t=n}var u=R(o),p=u.options;u.errors;return C.captureRef(t,p)}function M(t){\"string\"!=typeof t||C.releaseCapture(t)}var q=(function(t){function o(){var t,u;(0,n.default)(this,o);for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return(u=(0,p.default)(this,(t=(0,s.default)(o)).call.apply(t,[this].concat(f)))).firstLayoutPromise=new Promise(function(t){u.resolveFirstLayout=t}),u.capture=function(){return u.firstLayoutPromise.then(function(){var t=(0,l.default)(u).root;return t?L(t,u.props.options):w}).then(function(t){return u.onCapture(t),t},function(t){throw u.onCaptureFailure(t),t})},u.onCapture=function(t){if(u.root){u.lastCapturedURI&&setTimeout(M,500,u.lastCapturedURI),u.lastCapturedURI=t;var o=u.props.onCapture;o&&o(t)}},u.onCaptureFailure=function(t){if(u.root){var o=u.props.onCaptureFailure;o&&o(t)}},u.syncCaptureLoop=function(t){if(cancelAnimationFrame(u._raf),\"continuous\"===t){var o=\"-\";u._raf=requestAnimationFrame(function t(){u._raf=requestAnimationFrame(t),o!==u.lastCapturedURI&&(o=u.lastCapturedURI,u.capture())})}},u.onRef=function(t){u.root=t},u.onLayout=function(t){var o=u.props.onLayout;u.resolveFirstLayout(t.nativeEvent.layout),o&&o(t)},u}return(0,c.default)(o,t),(0,u.default)(o,[{key:\"componentDidMount\",value:function(){\"mount\"===this.props.captureMode?this.capture():this.syncCaptureLoop(this.props.captureMode)}},{key:\"componentWillReceiveProps\",value:function(t){t.captureMode!==this.props.captureMode&&this.syncCaptureLoop(t.captureMode)}},{key:\"componentDidUpdate\",value:function(){\"update\"===this.props.captureMode&&this.capture()}},{key:\"componentWillUnmount\",value:function(){this.syncCaptureLoop(null)}},{key:\"render\",value:function(){var t=this.props.children;return h.default.createElement(y.View,{ref:this.onRef,collapsable:!1,onLayout:this.onLayout,style:this.props.style},t)}}]),o})(h.Component);e.default=q,q.captureRef=L,q.releaseCapture=M});","map":[[1,151,126,7],[1,160,127,2,"optionsObject"],[1,163,128,19],[1,167,128,19,"_validateOptions2"],[1,169,129,30,"validateOptions"],[1,171,129,46,"optionsObject"],[1,174,129,10,"options"],[1,176,128,19,"_validateOptions2"],[1,178,129,10,"options"],[1,186,128,19,"_validateOptions2"],[1,188,129,19,"errors"],[1,195,136,2],[1,202,136,9,"RNViewShot"],[1,204,136,20,"captureScreen"],[1,218,136,34,"options"],[1,334,2,0,"_react"],[1,336,2,0,"_interopRequireWildcard"],[1,338,2,0,"r"],[1,340,2,0,"d"],[1,342,2,0],[1,347,3,0,"_reactNative"],[1,349,3,0,"r"],[1,351,3,0,"d"],[1,353,3,0],[1,943,4,8,"RNViewShot"],[1,945,4,23,"NativeModules"],[1,947,4,23,"NativeModules"],[1,961,4,8,"RNViewShot"],[1,972,10,6,"neverEndingPromise"],[1,974,10,27],[1,978,10,31,"Promise"],[1,986,10,39],[1,1000,21,5,"RNViewShot"],[1,1003,22,2,"console"],[1,1011,22,10,"warn"],[1,1016,23,4],[1,1110,27,0],[1,1114,27,6,"acceptedFormats"],[1,1117,27,25],[1,1123,27,32],[1,1130,27,39,"concat"],[1,1137,28,18],[1,1149,28,2,"Platform"],[1,1151,28,2,"Platform"],[1,1160,28,11,"OS"],[1,1164,28,31],[1,1171,28,39],[1,1182,31,6,"acceptedResults"],[1,1185,31,25],[1,1195,31,36],[1,1204,31,46],[1,1216,31,58,"concat"],[1,1223,32,18],[1,1235,32,2,"Platform"],[1,1237,32,2,"Platform"],[1,1246,32,11,"OS"],[1,1250,32,31],[1,1268,35,6,"defaultOptions"],[1,1271,36,2,"format"],[1,1278,36,10],[1,1284,37,2,"quality"],[1,1292,37,11],[1,1294,38,2,"result"],[1,1301,38,10],[1,1311,39,2,"snapshotContentContainer"],[1,1337,39,28],[1,1340,43,0],[1,1349,43,9,"validateOptions"],[1,1351,44,2,"options"],[1,1354,50,2],[1,1358,50,8,"errors"],[1,1363,88,2],[1,1369,52,4],[1,1379,46,2,"options"],[1,1381,46,9,"_objectSpread"],[1,1386,47,7,"defaultOptions"],[1,1391,48,7,"options"],[1,1397,53,30],[1,1414,53,12,"options"],[1,1416,53,20,"width"],[1,1423,53,42,"options"],[1,1425,53,50,"width"],[1,1432,53,59],[1,1437,55,4,"errors"],[1,1439,55,11,"push"],[1,1444,55,16],[1,1495,56,11,"options"],[1,1497,56,19,"width"],[1,1504,59,4],[1,1515,59,16,"options"],[1,1519,60,31],[1,1536,60,12,"options"],[1,1538,60,20,"height"],[1,1546,60,43,"options"],[1,1548,60,51,"height"],[1,1556,60,61],[1,1561,62,4,"errors"],[1,1563,62,11,"push"],[1,1568,62,16],[1,1620,63,11,"options"],[1,1622,63,19,"height"],[1,1631,66,31],[1,1648,66,11,"options"],[1,1650,66,19,"quality"],[1,1659,67,4,"options"],[1,1661,67,12,"quality"],[1,1669,67,22],[1,1672,68,4,"options"],[1,1674,68,12,"quality"],[1,1682,68,22],[1,1687,70,4,"errors"],[1,1689,70,11,"push"],[1,1694,70,16],[1,1751,71,4,"options"],[1,1753,71,12,"quality"],[1,1761,71,22,"defaultOptions"],[1,1763,71,37,"quality"],[1,1772,73,50],[1,1790,73,13,"options"],[1,1792,73,21,"snapshotContentContainer"],[1,1818,74,4,"errors"],[1,1820,74,11,"push"],[1,1825,74,16],[1,1881,76,6],[1,1885,76,6,"acceptedFormats"],[1,1887,76,22,"indexOf"],[1,1895,76,30,"options"],[1,1897,76,38,"format"],[1,1907,77,4,"options"],[1,1909,77,12,"format"],[1,1916,77,21,"defaultOptions"],[1,1918,77,36,"format"],[1,1925,78,4,"errors"],[1,1927,78,11,"push"],[1,1932,79,6],[1,1950,79,26,"options"],[1,1952,79,34,"format"],[1,1959,79,43],[1,1989,79,75,"acceptedFormats"],[1,1991,79,91,"join"],[1,1996,79,96],[1,2006,82,6],[1,2010,82,6,"acceptedResults"],[1,2012,82,22,"indexOf"],[1,2020,82,30,"options"],[1,2022,82,38,"result"],[1,2032,83,4,"options"],[1,2034,83,12,"result"],[1,2041,83,21,"defaultOptions"],[1,2043,83,36,"result"],[1,2050,84,4,"errors"],[1,2052,84,11,"push"],[1,2057,85,6],[1,2075,85,26,"options"],[1,2077,85,34,"result"],[1,2084,85,44],[1,2114,85,76,"acceptedResults"],[1,2116,85,92,"join"],[1,2121,85,97],[1,2131,88,11,"options"],[1,2139,88,11,"options"],[1,2141,88,20,"errors"],[1,2148,88,20,"errors"],[1,2151,91,7],[1,2160,91,16,"captureRef"],[1,2162,92,2,"view"],[1,2164,93,2,"optionsObject"],[1,2167,98,2],[1,2170,95,6,"view"],[1,2173,95,30],[1,2190,95,21,"view"],[1,2193,95,42],[1,2205,95,55,"view"],[1,2208,95,63,"view"],[1,2210,95,68,"current"],[1,2220,96,4,"view"],[1,2222,96,11,"view"],[1,2224,96,16,"current"],[1,2233,98,22],[1,2250,98,13,"view"],[1,2252,98,32],[1,2253,99,4],[1,2257,99,10,"node"],[1,2260,99,17],[1,2262,99,17,"_reactNative"],[1,2264,99,17,"findNodeHandle"],[1,2280,99,32,"view"],[1,2283,100,4],[1,2287,100,9,"node"],[1,2289,101,6],[1,2296,101,13,"Promise"],[1,2304,101,21,"reject"],[1,2311,102,8],[1,2315,102,12,"Error"],[1,2321,102,18],[1,2362,102,61,"String"],[1,2369,102,68,"view"],[1,2374,104,4,"view"],[1,2376,104,11,"node"],[1,2378,94,19],[1,2382,94,19,"_validateOptions"],[1,2384,106,30,"validateOptions"],[1,2386,106,46,"optionsObject"],[1,2389,106,10,"options"],[1,2391,94,19,"_validateOptions"],[1,2393,106,10,"options"],[1,2401,94,19,"_validateOptions"],[1,2403,106,19,"errors"],[1,2410,113,2],[1,2417,113,9,"RNViewShot"],[1,2419,113,20,"captureRef"],[1,2430,113,31,"view"],[1,2432,113,37,"options"],[1,2435,116,7],[1,2444,116,16,"releaseCapture"],[1,2446,116,31,"uri"],[1,2449,117,21],[1,2466,117,13,"uri"],[1,2469,122,4,"RNViewShot"],[1,2471,122,15,"releaseCapture"],[1,2486,122,30,"uri"],[1,2493,171,21,"ViewShot"],[1,2705,180,2,"firstLayoutPromise"],[1,2724,180,23],[1,2728,180,27,"Promise"],[1,2736,180,41],[1,2745,180,41,"resolve"],[1,2748,181,4,"_this"],[1,2750,181,9,"resolveFirstLayout"],[1,2769,181,30,"resolve"],[1,2775,184,2,"capture"],[1,2783,184,12],[1,2794,184,12],[1,2801,185,4,"_this"],[1,2803,185,9,"firstLayoutPromise"],[1,2822,186,7,"then"],[1,2827,186,12],[1,2838,186,18],[1,2842,187,16,"root"],[1,2845,186,18],[1,2847,186,18,"_assertThisInitialized2"],[1,2849,186,18,"default"],[1,2858,186,18,"_this"],[1,2861,187,16,"root"],[1,2866,188,8],[1,2873,188,13,"root"],[1,2875,189,15,"captureRef"],[1,2877,189,26,"root"],[1,2879,189,32,"_this"],[1,2881,189,37,"props"],[1,2887,189,43,"options"],[1,2896,188,26,"neverEndingPromise"],[1,2900,191,7,"then"],[1,2905,192,8],[1,2914,192,9,"uri"],[1,2917,194,10],[1,2924,193,10,"_this"],[1,2926,193,15,"onCapture"],[1,2936,193,25,"uri"],[1,2939,194,17,"uri"],[1,2942,196,8],[1,2951,196,9,"e"],[1,2954,198,10],[1,2960,197,10,"_this"],[1,2962,197,15,"onCaptureFailure"],[1,2979,197,32,"e"],[1,2982,198,16,"e"],[1,2989,202,2,"onCapture"],[1,2999,202,14],[1,3008,202,15,"uri"],[1,3011,203,4],[1,3014,203,9,"_this"],[1,3016,203,14,"root"],[1,3021,203,4],[1,3022,204,8,"_this"],[1,3024,204,13,"lastCapturedURI"],[1,3041,206,6,"setTimeout"],[1,3052,206,17,"releaseCapture"],[1,3054,206,33],[1,3058,206,38,"_this"],[1,3060,206,43,"lastCapturedURI"],[1,3077,208,4,"_this"],[1,3079,208,9,"lastCapturedURI"],[1,3095,208,27,"uri"],[1,3097,202,31],[1,3101,209,12,"onCapture"],[1,3103,209,26,"_this"],[1,3105,209,31,"props"],[1,3111,209,12,"onCapture"],[1,3121,210,8,"onCapture"],[1,3124,210,19,"onCapture"],[1,3126,210,29,"uri"],[1,3133,213,2,"onCaptureFailure"],[1,3150,213,21],[1,3159,213,22,"e"],[1,3162,214,4],[1,3165,214,9,"_this"],[1,3167,214,14,"root"],[1,3172,214,4],[1,3173,213,35],[1,3177,215,12,"onCaptureFailure"],[1,3179,215,33,"_this"],[1,3181,215,38,"props"],[1,3187,215,12,"onCaptureFailure"],[1,3204,216,8,"onCaptureFailure"],[1,3207,216,26,"onCaptureFailure"],[1,3209,216,43,"e"],[1,3216,219,2,"syncCaptureLoop"],[1,3232,219,20],[1,3241,219,21,"captureMode"],[1,3244,221,4],[1,3247,220,4,"cancelAnimationFrame"],[1,3268,220,25,"_this"],[1,3270,220,30,"_raf"],[1,3276,221,24],[1,3291,221,8,"captureMode"],[1,3293,221,38],[1,3294,222,6],[1,3298,222,10,"previousCaptureURI"],[1,3300,222,31],[1,3304,229,6,"_this"],[1,3306,229,11,"_raf"],[1,3311,229,18,"requestAnimationFrame"],[1,3333,223,19],[1,3342,223,12,"loop"],[1,3346,224,8,"_this"],[1,3348,224,13,"_raf"],[1,3353,224,20,"requestAnimationFrame"],[1,3375,224,42,"loop"],[1,3378,225,12,"previousCaptureURI"],[1,3382,225,35,"_this"],[1,3384,225,40,"lastCapturedURI"],[1,3402,226,8,"previousCaptureURI"],[1,3404,226,29,"_this"],[1,3406,226,34,"lastCapturedURI"],[1,3422,227,8,"_this"],[1,3424,227,13,"capture"],[1,3441,233,2,"onRef"],[1,3447,233,10],[1,3456,233,11,"ref"],[1,3459,234,4,"_this"],[1,3461,234,9,"root"],[1,3466,234,16,"ref"],[1,3471,237,2,"onLayout"],[1,3480,237,13],[1,3489,237,14,"e"],[1,3492,237,33],[1,3496,238,12,"onLayout"],[1,3498,238,25,"_this"],[1,3500,238,30,"props"],[1,3506,238,12,"onLayout"],[1,3515,239,4,"_this"],[1,3517,239,9,"resolveFirstLayout"],[1,3536,239,28,"e"],[1,3538,239,30,"nativeEvent"],[1,3550,239,42,"layout"],[1,3558,240,8,"onLayout"],[1,3561,240,18,"onLayout"],[1,3563,240,27,"e"],[1,3653,245,35],[1,3663,245,8,"this"],[1,3668,245,13,"props"],[1,3674,245,19,"captureMode"],[1,3686,246,6,"this"],[1,3691,246,11,"capture"],[1,3701,248,6,"this"],[1,3706,248,11,"syncCaptureLoop"],[1,3722,248,27,"this"],[1,3727,248,32,"props"],[1,3733,248,38,"captureMode"],[1,3796,252,28,"nextProps"],[1,3799,253,8,"nextProps"],[1,3801,253,18,"captureMode"],[1,3815,253,34,"this"],[1,3820,253,39,"props"],[1,3826,253,45,"captureMode"],[1,3839,254,6,"this"],[1,3844,254,11,"syncCaptureLoop"],[1,3860,254,27,"nextProps"],[1,3862,254,37,"captureMode"],[1,3920,259,35],[1,3931,259,8,"this"],[1,3936,259,13,"props"],[1,3942,259,19,"captureMode"],[1,3955,260,6,"this"],[1,3960,260,11,"capture"],[1,4017,265,4,"this"],[1,4022,265,9,"syncCaptureLoop"],[1,4038,265,25],[1,4077,268,11],[1,4081,269,12,"children"],[1,4083,269,25,"this"],[1,4088,269,30,"props"],[1,4094,269,12,"children"],[1,4103,270,4],[1,4110,271,6,"_react"],[1,4112,271,6,"default"],[1,4120,271,6,"createElement"],[1,4134,271,7,"_reactNative"],[1,4136,271,7,"View"],[1,4142,271,12,"ref"],[1,4146,271,17,"this"],[1,4151,271,22,"onRef"],[1,4157,271,29,"collapsable"],[1,4170,271,42],[1,4172,271,49,"onLayout"],[1,4181,271,59,"this"],[1,4186,271,64,"onLayout"],[1,4195,271,74,"style"],[1,4201,271,81,"this"],[1,4206,271,86,"props"],[1,4212,271,92,"style"],[1,4219,272,9,"children"],[1,4230,171,38,"Component"],[1,4232,171,38,"Component"],[1,4255,171,21,"ViewShot"],[1,4257,172,9,"captureRef"],[1,4268,172,22,"captureRef"],[1,4270,171,21,"ViewShot"],[1,4272,173,9,"releaseCapture"],[1,4287,173,26,"releaseCapture"]]},"type":"js/module"}]}